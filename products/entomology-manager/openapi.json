{"openapi":"3.0.1","info":{"title":"REST API of Entomology Manager","description":"REST API used to define, store, access traps and its samplings.\nThe API supports Cross Origin Resource Sharing (CORS) for AJAX requests from any origin. The following header is included in the corresponding responses: Access-Control-Allow-Origin: *. You can read the CORS W3C Recommendation to learn more about CORS.\nIn the remainder of this documentation, it is assumed that the REST API is deployed in an IP and port denoted as IP and PORT, respectively.","version":"1.0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/v1/traps":{"get":{"tags":["trap-handler"],"operationId":"get","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"string"}},{"name":"size","in":"query","required":false,"schema":{"type":"string"}},{"name":"and","in":"query","required":false,"schema":{"type":"string"}},{"name":"or","in":"query","required":false,"schema":{"type":"string"}},{"name":"order","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrapResponseBody"}}}}}}},"post":{"tags":["trap-handler"],"summary":"Create a new trap","operationId":"post","requestBody":{"content":{"application/json":{}},"required":true},"responses":{"400":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrapResponseBody"}}}},"201":{"description":"Successful creation of trap","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrapResponseBody"}}}}}},"options":{"tags":["trap-handler"],"operationId":"options","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"head":{"tags":["trap-handler"],"operationId":"head","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"patch":{"tags":["trap-handler"],"operationId":"patch","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"trace":{"tags":["trap-handler"],"operationId":"trace","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/samplings":{"get":{"tags":["sampling-handler"],"operationId":"get_2","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"string"}},{"name":"size","in":"query","required":false,"schema":{"type":"string"}},{"name":"and","in":"query","required":false,"schema":{"type":"string"}},{"name":"or","in":"query","required":false,"schema":{"type":"string"}},{"name":"order","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SamplingResponseBody"}}}}}}},"post":{"tags":["sampling-handler"],"operationId":"post_1","requestBody":{"content":{"application/json":{}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SamplingResponseBody"}}}}}},"options":{"tags":["sampling-handler"],"operationId":"options_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"head":{"tags":["sampling-handler"],"operationId":"head_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"patch":{"tags":["sampling-handler"],"operationId":"patch_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"trace":{"tags":["sampling-handler"],"operationId":"trace","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/files":{"get":{"tags":["file-handler"],"operationId":"get_3","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"string"}},{"name":"size","in":"query","required":false,"schema":{"type":"string"}},{"name":"and","in":"query","required":false,"schema":{"type":"string"}},{"name":"or","in":"query","required":false,"schema":{"type":"string"}},{"name":"order","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponseBody"}}}}}}},"post":{"tags":["file-handler"],"operationId":"post_2","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponseBody"}}}}}},"options":{"tags":["file-handler"],"operationId":"options_2","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"head":{"tags":["file-handler"],"operationId":"head_2","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"patch":{"tags":["file-handler"],"operationId":"patch_2","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"trace":{"tags":["file-handler"],"operationId":"trace","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/backups":{"get":{"tags":["backup-handler"],"operationId":"get_4","parameters":[{"name":"page","in":"query","required":false,"schema":{"type":"string"}},{"name":"size","in":"query","required":false,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"post":{"tags":["backup-handler"],"operationId":"post_3","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupResponseBody"}}}}}},"options":{"tags":["backup-handler"],"operationId":"options_3","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"head":{"tags":["backup-handler"],"operationId":"head_3","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"patch":{"tags":["backup-handler"],"operationId":"patch_3","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}},"trace":{"tags":["backup-handler"],"operationId":"trace","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/traps/{id}":{"get":{"tags":["trap-handler"],"operationId":"getId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrapResponseBody"}}}}}},"put":{"tags":["trap-handler"],"operationId":"put","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrapPutRequestBody"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrapResponseBody"}}}}}},"delete":{"tags":["trap-handler"],"operationId":"delete","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrapResponseBody"}}}}}},"options":{"tags":["trap-handler"],"operationId":"optionsId","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/samplings/{id}":{"get":{"tags":["sampling-handler"],"operationId":"getId_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SamplingResponseBody"}}}}}},"put":{"tags":["sampling-handler"],"operationId":"put_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SamplingPutRequestBody"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SamplingResponseBody"}}}}}},"delete":{"tags":["sampling-handler"],"operationId":"delete_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SamplingResponseBody"}}}}}},"options":{"tags":["sampling-handler"],"operationId":"optionsId_1","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/files/{id}":{"get":{"tags":["file-handler"],"operationId":"getId_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponseBody"}}}}}},"put":{"tags":["file-handler"],"operationId":"put_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}},{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"multipart/form-data":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponseBody"}}}}}},"delete":{"tags":["file-handler"],"operationId":"delete_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponseBody"}}}}}},"options":{"tags":["file-handler"],"operationId":"optionsId_2","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/backups/{fileName}/restore":{"post":{"tags":["backup-handler"],"operationId":"restoreBackup","parameters":[{"name":"fileName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/backups/restore":{"post":{"tags":["backup-handler"],"operationId":"restore","requestBody":{"content":{"application/json":{"schema":{"required":["file"],"type":"object","properties":{"file":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupResponseBody"}}}}}}},"/v1/backups/{id}":{"options":{"tags":["backup-handler"],"operationId":"optionsId_3","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/traps/getxlsxtraps":{"get":{"tags":["trap-handler"],"operationId":"getXLSXTraps","parameters":[{"name":"idTraps","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/traps/getkmltraps":{"get":{"tags":["trap-handler"],"operationId":"getKMLTraps","parameters":[{"name":"idTraps","in":"query","required":true,"schema":{"type":"array","items":{"type":"string"}}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/traps/all":{"get":{"tags":["trap-handler"],"operationId":"get_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TrapResponseBody"}}}}}}}},"/v1/files/{id}/download":{"get":{"tags":["file-handler"],"operationId":"getIdDownload","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/v1/backups/{fileName}":{"get":{"tags":["backup-handler"],"operationId":"getByArchiveName","parameters":[{"name":"fileName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BackupResponseBody"}}}}}}},"/v1/backups/{fileName}/download":{"get":{"tags":["backup-handler"],"operationId":"download","parameters":[{"name":"fileName","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object"}}}}}}}},"components":{"schemas":{"EntryPoint":{"type":"object","properties":{"value":{"type":"string"}}},"KaiztenGeolocationPoint":{"type":"object","properties":{"longitude":{"type":"number","format":"double"},"latitude":{"type":"number","format":"double"}}},"TrapDescription":{"type":"object","properties":{"value":{"type":"string"}}},"TrapName":{"type":"object","properties":{"value":{"type":"string"}}},"TrapPutRequestBody":{"type":"object","properties":{"name":{"$ref":"#/components/schemas/TrapName"},"description":{"$ref":"#/components/schemas/TrapDescription"},"island":{"type":"string","enum":["FUERTEVENTURA","GRAN_CANARIA","EL_HIERRO","LA_GOMERA","LA_PALMA","LANZAROTE","TENERIFE","SANTIAGO","SANTO_ANTAO","BOA_VISTA","FOGO","SAO_NICOLAU","MAIO","SAO_VICENTE","SAL","BRAVA","SANTA_LUZIA"]},"type":{"type":"string","enum":["OVITRAP","FARM","BG_SENTINEL","CDC_LIGHT","ELECTROCUTION"]},"entryPoint":{"$ref":"#/components/schemas/EntryPoint"},"geolocation":{"$ref":"#/components/schemas/KaiztenGeolocationPoint"},"imageUUID":{"type":"array","items":{"type":"string","format":"uuid"}},"installationDate":{"type":"string","format":"date"},"leavingDate":{"type":"string","format":"date"},"numberOfImages":{"type":"integer","format":"int32"}}},"KaiztenJWTPreferredUsername":{"type":"object","properties":{"value":{"type":"string"}}},"TrapResponseBody":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"$ref":"#/components/schemas/TrapName"},"description":{"$ref":"#/components/schemas/TrapDescription"},"island":{"type":"string","enum":["FUERTEVENTURA","GRAN_CANARIA","EL_HIERRO","LA_GOMERA","LA_PALMA","LANZAROTE","TENERIFE","SANTIAGO","SANTO_ANTAO","BOA_VISTA","FOGO","SAO_NICOLAU","MAIO","SAO_VICENTE","SAL","BRAVA","SANTA_LUZIA"]},"type":{"type":"string","enum":["OVITRAP","FARM","BG_SENTINEL","CDC_LIGHT","ELECTROCUTION"]},"entryPoint":{"$ref":"#/components/schemas/EntryPoint"},"geolocation":{"$ref":"#/components/schemas/KaiztenGeolocationPoint"},"images":{"type":"array","items":{"type":"string","format":"uuid"}},"installationDate":{"type":"string","format":"date"},"leavingDate":{"type":"string","format":"date"},"creator":{"$ref":"#/components/schemas/KaiztenJWTPreferredUsername"}}},"Analysis":{"type":"object","properties":{"type":{"type":"string","enum":["MORPHOLOGY","MOLECULAR_ANALYSIS"]},"date":{"type":"string","format":"date"},"person":{"$ref":"#/components/schemas/Person"},"larva":{"$ref":"#/components/schemas/Larva"},"slide":{"$ref":"#/components/schemas/Slide"},"images":{"type":"array","items":{"$ref":"#/components/schemas/File"}},"results":{"type":"array","items":{"$ref":"#/components/schemas/Tuple3SpecieGenderQuantity"}},"numberOfResults":{"type":"integer","format":"int32"},"numberOfImages":{"type":"integer","format":"int32"}}},"AnalyzesInformation":{"type":"object","properties":{"storage":{"$ref":"#/components/schemas/SamplingStorage"},"analyzes":{"type":"array","items":{"$ref":"#/components/schemas/Analysis"}},"observation":{"$ref":"#/components/schemas/Observation"},"timestamp":{"type":"string","format":"date-time"},"numberOfAnalyzes":{"type":"integer","format":"int32"}}},"Comment":{"type":"object","properties":{"message":{"$ref":"#/components/schemas/CommentMessage"},"date":{"$ref":"#/components/schemas/Comment"},"timestamp":{"type":"string","format":"date-time"}}},"CommentMessage":{"type":"object","properties":{"value":{"type":"string"}}},"File":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"$ref":"#/components/schemas/FileName"},"originalFileName":{"$ref":"#/components/schemas/OriginalFileName"},"content":{"type":"string","format":"byte"},"bytes":{"type":"integer","format":"int32"}}},"FileName":{"type":"object","properties":{"value":{"type":"string"}}},"Larva":{"type":"object","properties":{"value":{"type":"boolean"}}},"Observation":{"type":"object","properties":{"value":{"type":"string"}}},"OriginalFileName":{"type":"object","properties":{"value":{"type":"string"}}},"Person":{"type":"object","properties":{"value":{"type":"string"}}},"PresenceOfIndividuals":{"type":"object","properties":{"value":{"type":"boolean"}}},"Quantity":{"type":"object","properties":{"value":{"type":"integer","format":"int32"}}},"ReceptionInformation":{"type":"object","properties":{"observation":{"$ref":"#/components/schemas/Observation"},"timestamp":{"type":"string","format":"date-time"}}},"RegistrationInformation":{"type":"object","properties":{"presenceOfIndividuals":{"$ref":"#/components/schemas/PresenceOfIndividuals"},"comments":{"type":"array","items":{"$ref":"#/components/schemas/Comment"}},"observation":{"$ref":"#/components/schemas/Observation"},"timestamp":{"type":"string","format":"date-time"},"numberOfComments":{"type":"integer","format":"int32"}}},"SamplingPutRequestBody":{"type":"object","properties":{"status":{"type":"string","enum":["REGISTERED","SENT","RECEIVED","ANALYZED"]},"trap":{"$ref":"#/components/schemas/Trap"},"registrationInformation":{"$ref":"#/components/schemas/RegistrationInformation"},"sendingInformation":{"$ref":"#/components/schemas/SendingInformation"},"receptionInformation":{"$ref":"#/components/schemas/ReceptionInformation"},"analyzesInformation":{"$ref":"#/components/schemas/AnalyzesInformation"}}},"SamplingStorage":{"type":"object","properties":{"boxes":{"type":"object","additionalProperties":{"type":"array","items":{"$ref":"#/components/schemas/Tube"}}},"numberOfBoxes":{"type":"integer","format":"int32"}}},"SendingInformation":{"type":"object","properties":{"deliveryNote":{"$ref":"#/components/schemas/File"},"observation":{"$ref":"#/components/schemas/Observation"},"timestamp":{"type":"string","format":"date-time"}}},"Slide":{"type":"object","properties":{"value":{"type":"string"}}},"Trap":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"$ref":"#/components/schemas/TrapName"},"description":{"$ref":"#/components/schemas/TrapDescription"},"island":{"type":"string","enum":["FUERTEVENTURA","GRAN_CANARIA","EL_HIERRO","LA_GOMERA","LA_PALMA","LANZAROTE","TENERIFE","SANTIAGO","SANTO_ANTAO","BOA_VISTA","FOGO","SAO_NICOLAU","MAIO","SAO_VICENTE","SAL","BRAVA","SANTA_LUZIA"]},"type":{"type":"string","enum":["OVITRAP","FARM","BG_SENTINEL","CDC_LIGHT","ELECTROCUTION"]},"entryPoint":{"$ref":"#/components/schemas/EntryPoint"},"geolocation":{"$ref":"#/components/schemas/KaiztenGeolocationPoint"},"images":{"type":"array","items":{"$ref":"#/components/schemas/File"}},"installationDate":{"type":"string","format":"date"},"leavingDate":{"type":"string","format":"date"},"creator":{"$ref":"#/components/schemas/KaiztenJWTPreferredUsername"},"numberOfImages":{"type":"integer","format":"int32"}}},"Tube":{"type":"object","properties":{"value":{"type":"string"}}},"Tuple3SpecieGenderQuantity":{"type":"object","properties":{"get2":{"$ref":"#/components/schemas/Quantity"},"get0":{"type":"string","enum":["ANOPHELES_CINEREUS_HISPANIOLA","ANOPHELES_MULTICOLOR","ANOPHELES_SERGENTII","CULEX_ARBIEENI","CULEX_HORTENSIS_HORTENSIS","CULEX_LATICINCTUS","CULEX_PIPIENS","CULEX_THEILERI","AEDES_CASPIUS","AEDES_EATONI","AEDES_CASPIUS_MEIRAI","AEDES_AEGYPTI","ANOPHELES_GAMBIAE","ANOPHELES_PRETORIENSIS","CULEX_TRITAENIORHYNCHUS","CULEX_ETHIOPICUS","CULEX_PIPIENS_PIPIENS","CULEX_PIPIENS_QUINQUEFASCIATUS","CULEX_BITAENIORHYNCHUS","CULEX_UNIVITTTATUS","CULISETA_LONGIAREOLATA","LUTZIA_TIGRIPES"]},"get1":{"type":"string","enum":["MALE","FEMALE","INDETERMINATE","EMPTY"]}}},"SamplingResponseBody":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"status":{"type":"string","enum":["REGISTERED","SENT","RECEIVED","ANALYZED"]},"trap":{"$ref":"#/components/schemas/Trap"},"registrationInformation":{"$ref":"#/components/schemas/RegistrationInformation"},"sendingInformation":{"$ref":"#/components/schemas/SendingInformation"},"receptionInformation":{"$ref":"#/components/schemas/ReceptionInformation"},"analyzesInformation":{"$ref":"#/components/schemas/AnalyzesInformation"}}},"FileResponseBody":{"type":"object","properties":{"id":{"type":"string","format":"uuid"},"name":{"$ref":"#/components/schemas/FileName"},"content":{"type":"string","format":"byte"},"bytes":{"type":"integer","format":"int32"},"originalFilename":{"$ref":"#/components/schemas/OriginalFileName"}}},"BackupResponseBody":{"type":"object","properties":{"file":{"type":"string","format":"binary","writeOnly":true},"bytes":{"type":"integer","format":"int64"},"archive":{"type":"string"}}}}}}